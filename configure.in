# -*- mode: shell-script -*-
#
# libIDL configure.in
#
# Copyright (C) 1998 Andrew Veliath <andrewtv@usa.net>
# Licensed under the GNU General Public License version 2
#
AC_INIT(IDL.h)
AM_INIT_AUTOMAKE(libIDL, 0.1)
AC_PROG_CC
AC_PROG_CPP
CPP="/lib/cpp"
AC_ARG_WITH(cpp,
[  --with-cpp=PROGRAM      full path to C preprocessor [/lib/cpp]],
CPP="$withval")
AC_MSG_CHECKING(the C preprocessor)
if [[ ! -x "$CPP" ]]; then
    AC_MSG_RESULT(WARNING: cannot execute "$CPP")
else
    AC_MSG_RESULT(found and executable)
fi
AC_DEFINE(CPP_PROGRAM, "$CPP")
AM_PROG_LEX
if [[ "$LEX" = "flex" ]]; then
    LFLAGS="-8"
else
    LFLAGS=""
fi
AC_SUBST(LFLAGS)
AC_PROG_YACC
AC_PROG_RANLIB
AC_ISC_POSIX
AC_STDC_HEADERS
AC_CHECK_FUNCS(strdup)
AC_OUTPUT(Makefile)
echo
echo libIDL configuration successful
echo
echo "  cpp: \"$CPP\""
echo
